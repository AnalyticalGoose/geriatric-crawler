[gd_scene load_steps=12 format=3 uid="uid://dwqcwbgj8p6q0"]

[ext_resource type="Script" uid="uid://dqe42q7uub84r" path="res://scripts/gridded_level/level_features/grid_level.gd" id="1_dd1ob"]
[ext_resource type="PackedScene" uid="uid://bfoog3fb4v5ij" path="res://scenes/dungeon/player.tscn" id="3_m6mav"]
[ext_resource type="PackedScene" uid="uid://b3heljhlu4hop" path="res://scenes/dungeon/basic_wall.tscn" id="3_q8nfi"]
[ext_resource type="Script" uid="uid://b8a6yvndcxtpa" path="res://scripts/gridded_level/transportation_mode.gd" id="4_840jk"]
[ext_resource type="PackedScene" uid="uid://deupet1cvom4e" path="res://scenes/dungeon/basic_ceiling.tscn" id="4_pgxau"]
[ext_resource type="PackedScene" uid="uid://pqu2j7bbrsdh" path="res://scenes/dungeon/empty_node.tscn" id="7_rvj20"]
[ext_resource type="Script" uid="uid://vhd085que0kg" path="res://scripts/gridded_level/level_features/grid_node.gd" id="8_myev5"]
[ext_resource type="Script" uid="uid://c6733p4qj68p" path="res://scripts/gridded_level/level_features/grid_node_side.gd" id="9_rvj20"]
[ext_resource type="PackedScene" uid="uid://ddfwexgrpbieg" path="res://scenes/dungeon/basic_floor.tscn" id="10_r1g7e"]

[sub_resource type="Resource" id="Resource_myev5"]
resource_local_to_scene = true
script = ExtResource("4_840jk")
mode = 61
metadata/_custom_type_script = "uid://b8a6yvndcxtpa"

[sub_resource type="Resource" id="Resource_pgxau"]
script = ExtResource("4_840jk")
mode = 0
metadata/_custom_type_script = "uid://b8a6yvndcxtpa"

[node name="TestLevel" type="Node3D" node_paths=PackedStringArray("player", "level_geometry")]
script = ExtResource("1_dd1ob")
node_size = Vector3(1.5, 2.6, 1.5)
player = NodePath("Player")
level_geometry = NodePath("LevelGeometry")

[node name="Player" parent="." node_paths=PackedStringArray("spawn_node") instance=ExtResource("3_m6mav")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0145968, -0.00857759, 0.00070858)
spawn_node = NodePath("../LevelGeometry/Node (0, 0, -1)")
look_direction = 1
transportation_abilities = SubResource("Resource_myev5")
transportation_mode = SubResource("Resource_pgxau")

[node name="LevelGeometry" type="Node3D" parent="."]

[node name="Node (0, 0, -1)" type="Node3D" parent="LevelGeometry" instance=ExtResource("7_rvj20")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.5)
script = ExtResource("8_myev5")
coordinates = Vector3i(0, 0, -1)
entry_requires_anchor = true
metadata/_custom_type_script = "uid://vhd085que0kg"

[node name="Side WEST" type="Node3D" parent="LevelGeometry/Node (0, 0, -1)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
script = ExtResource("9_rvj20")
direction = 3
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side EAST" type="Node3D" parent="LevelGeometry/Node (0, 0, -1)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0)
script = ExtResource("9_rvj20")
direction = 4
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side UP" type="Node3D" parent="LevelGeometry/Node (0, 0, -1)" node_paths=PackedStringArray("anchor") instance=ExtResource("4_pgxau")]
script = ExtResource("9_rvj20")
direction = 5
anchor = NodePath("GridAnchor")

[node name="Side DOWN" type="Node3D" parent="LevelGeometry/Node (0, 0, -1)" node_paths=PackedStringArray("anchor") instance=ExtResource("10_r1g7e")]
script = ExtResource("9_rvj20")
anchor = NodePath("GridAnchor")

[node name="Node (0, 0, 0)" type="Node3D" parent="LevelGeometry" instance=ExtResource("7_rvj20")]
script = ExtResource("8_myev5")
entry_requires_anchor = true
metadata/_custom_type_script = "uid://vhd085que0kg"

[node name="Side SOUTH" type="Node3D" parent="LevelGeometry/Node (0, 0, 0)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, 0, 0)
script = ExtResource("9_rvj20")
direction = 2
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side EAST" type="Node3D" parent="LevelGeometry/Node (0, 0, 0)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0)
script = ExtResource("9_rvj20")
direction = 4
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side UP" type="Node3D" parent="LevelGeometry/Node (0, 0, 0)" node_paths=PackedStringArray("anchor") instance=ExtResource("4_pgxau")]
script = ExtResource("9_rvj20")
direction = 5
anchor = NodePath("GridAnchor")

[node name="Side DOWN" type="Node3D" parent="LevelGeometry/Node (0, 0, 0)" node_paths=PackedStringArray("anchor") instance=ExtResource("10_r1g7e")]
script = ExtResource("9_rvj20")
anchor = NodePath("GridAnchor")

[node name="Node (-1, 0, 0)" type="Node3D" parent="LevelGeometry" instance=ExtResource("7_rvj20")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 0, 0)
script = ExtResource("8_myev5")
coordinates = Vector3i(-1, 0, 0)
entry_requires_anchor = true
metadata/_custom_type_script = "uid://vhd085que0kg"

[node name="Side NORTH" type="Node3D" parent="LevelGeometry/Node (-1, 0, 0)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
script = ExtResource("9_rvj20")
direction = 1
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side SOUTH" type="Node3D" parent="LevelGeometry/Node (-1, 0, 0)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, 0, 0)
script = ExtResource("9_rvj20")
direction = 2
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side UP" type="Node3D" parent="LevelGeometry/Node (-1, 0, 0)" node_paths=PackedStringArray("anchor") instance=ExtResource("4_pgxau")]
script = ExtResource("9_rvj20")
direction = 5
anchor = NodePath("GridAnchor")

[node name="Side DOWN" type="Node3D" parent="LevelGeometry/Node (-1, 0, 0)" node_paths=PackedStringArray("anchor") instance=ExtResource("10_r1g7e")]
script = ExtResource("9_rvj20")
anchor = NodePath("GridAnchor")

[node name="Node (-2, 0, 0)" type="Node3D" parent="LevelGeometry" instance=ExtResource("7_rvj20")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 0)
script = ExtResource("8_myev5")
coordinates = Vector3i(-2, 0, 0)
entry_requires_anchor = true
metadata/_custom_type_script = "uid://vhd085que0kg"

[node name="Side SOUTH" type="Node3D" parent="LevelGeometry/Node (-2, 0, 0)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, 0, 0)
script = ExtResource("9_rvj20")
direction = 2
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side WEST" type="Node3D" parent="LevelGeometry/Node (-2, 0, 0)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
script = ExtResource("9_rvj20")
direction = 3
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side UP" type="Node3D" parent="LevelGeometry/Node (-2, 0, 0)" node_paths=PackedStringArray("anchor") instance=ExtResource("4_pgxau")]
script = ExtResource("9_rvj20")
direction = 5
anchor = NodePath("GridAnchor")

[node name="Side DOWN" type="Node3D" parent="LevelGeometry/Node (-2, 0, 0)" node_paths=PackedStringArray("anchor") instance=ExtResource("10_r1g7e")]
script = ExtResource("9_rvj20")
anchor = NodePath("GridAnchor")

[node name="Node (-2, 0, -1)" type="Node3D" parent="LevelGeometry" instance=ExtResource("7_rvj20")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, -1.5)
script = ExtResource("8_myev5")
coordinates = Vector3i(-2, 0, -1)
entry_requires_anchor = true
metadata/_custom_type_script = "uid://vhd085que0kg"

[node name="Side WEST" type="Node3D" parent="LevelGeometry/Node (-2, 0, -1)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
script = ExtResource("9_rvj20")
direction = 3
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side EAST" type="Node3D" parent="LevelGeometry/Node (-2, 0, -1)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0)
script = ExtResource("9_rvj20")
direction = 4
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side UP" type="Node3D" parent="LevelGeometry/Node (-2, 0, -1)" node_paths=PackedStringArray("anchor") instance=ExtResource("4_pgxau")]
script = ExtResource("9_rvj20")
direction = 5
anchor = NodePath("GridAnchor")

[node name="Side DOWN" type="Node3D" parent="LevelGeometry/Node (-2, 0, -1)" node_paths=PackedStringArray("anchor") instance=ExtResource("10_r1g7e")]
script = ExtResource("9_rvj20")
anchor = NodePath("GridAnchor")

[node name="Node (-2, 0, -2)" type="Node3D" parent="LevelGeometry" instance=ExtResource("7_rvj20")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, -3)
script = ExtResource("8_myev5")
coordinates = Vector3i(-2, 0, -2)
entry_requires_anchor = true
metadata/_custom_type_script = "uid://vhd085que0kg"

[node name="Side NORTH" type="Node3D" parent="LevelGeometry/Node (-2, 0, -2)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
script = ExtResource("9_rvj20")
direction = 1
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side WEST" type="Node3D" parent="LevelGeometry/Node (-2, 0, -2)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 0)
script = ExtResource("9_rvj20")
direction = 3
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side UP" type="Node3D" parent="LevelGeometry/Node (-2, 0, -2)" node_paths=PackedStringArray("anchor") instance=ExtResource("4_pgxau")]
script = ExtResource("9_rvj20")
direction = 5
anchor = NodePath("GridAnchor")

[node name="Side DOWN" type="Node3D" parent="LevelGeometry/Node (-2, 0, -2)" node_paths=PackedStringArray("anchor") instance=ExtResource("10_r1g7e")]
script = ExtResource("9_rvj20")
anchor = NodePath("GridAnchor")

[node name="Node (-1, 0, -2)" type="Node3D" parent="LevelGeometry" instance=ExtResource("7_rvj20")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 0, -3)
script = ExtResource("8_myev5")
coordinates = Vector3i(-1, 0, -2)
entry_requires_anchor = true
metadata/_custom_type_script = "uid://vhd085que0kg"

[node name="Side NORTH" type="Node3D" parent="LevelGeometry/Node (-1, 0, -2)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
script = ExtResource("9_rvj20")
direction = 1
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side SOUTH" type="Node3D" parent="LevelGeometry/Node (-1, 0, -2)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0, 0, 0)
script = ExtResource("9_rvj20")
direction = 2
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side UP" type="Node3D" parent="LevelGeometry/Node (-1, 0, -2)" node_paths=PackedStringArray("anchor") instance=ExtResource("4_pgxau")]
script = ExtResource("9_rvj20")
direction = 5
anchor = NodePath("GridAnchor")

[node name="Side DOWN" type="Node3D" parent="LevelGeometry/Node (-1, 0, -2)" node_paths=PackedStringArray("anchor") instance=ExtResource("10_r1g7e")]
script = ExtResource("9_rvj20")
anchor = NodePath("GridAnchor")

[node name="Node (0, 0, -2)" type="Node3D" parent="LevelGeometry" instance=ExtResource("7_rvj20")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -3)
script = ExtResource("8_myev5")
coordinates = Vector3i(0, 0, -2)
entry_requires_anchor = true
metadata/_custom_type_script = "uid://vhd085que0kg"

[node name="Side NORTH" type="Node3D" parent="LevelGeometry/Node (0, 0, -2)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
script = ExtResource("9_rvj20")
direction = 1
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side EAST" type="Node3D" parent="LevelGeometry/Node (0, 0, -2)" node_paths=PackedStringArray("anchor", "negative_anchor") instance=ExtResource("3_q8nfi")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0)
script = ExtResource("9_rvj20")
direction = 4
infer_direction_from_rotation = true
anchor = NodePath("GridAnchor")
negative_anchor = NodePath("GridAnchorNegative")

[node name="Side UP" type="Node3D" parent="LevelGeometry/Node (0, 0, -2)" node_paths=PackedStringArray("anchor") instance=ExtResource("4_pgxau")]
script = ExtResource("9_rvj20")
direction = 5
anchor = NodePath("GridAnchor")

[node name="Side DOWN" type="Node3D" parent="LevelGeometry/Node (0, 0, -2)" node_paths=PackedStringArray("anchor") instance=ExtResource("10_r1g7e")]
script = ExtResource("9_rvj20")
anchor = NodePath("GridAnchor")
